<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<a href="/home">home</a>
<a href="/funk">funk</a>
<div id="view">123</div>
<script>
    // window.addEventListener("DOMContentLoaded",onLoad)
    window.addEventListener("popstate",onPopState);
    let view=document.querySelector('#view');

        // 拦截 <a> 标签点击事件默认行为， 点击时使用 pushState 修改 URL并更新手动 UI，从而实现点击链接更新 URL 和 UI 的效果。
        var linkList = document.querySelectorAll('a')
        linkList.forEach(el=>el.onclick=function (e) {
            e.preventDefault();
            history.pushState(null,"",el.href)
            onPopState()
        })
    function onPopState(){
        switch(location.pathname){
            case "/home":
                view.innerHTML="home"
                return
            case "/funk":
                view.innerHTML="funk"
                return
            default:
                return
        }
    }
</script>

</body>
</html>